@startuml
skinparam classAttributeIconSize 0

class POTApplication
{
  +static getInstance()
  +getCurrentSession()
}

class UserSession
{
  +getUserEmail()
}

class Task {
  -String id
  -String briefDescription
  -Integer timeDuration
  -Double costPerHour
  -String taskCategory
}

class Freelancer {
  -String id
  -String name
  -String expertiseLevel
  -String email
  -String NIF
  -String IBAN
  -String address
  -String country
}

class Organization {
  -String name
  -String NIF
  +getTasksList()
  +getPaymentTransactionList()
  
}

class TasksList {
  +taskExists(taskId)
}

class Platform {
  -String designation
  +OrganizationsRecord getOrganizationsRecord()
  +FreelancersRecord getFreelancersRecord()
}

class FreelancersRecord {
  +freelancerExists(frlId)
}

class OrganizationsRecord  {
  +getOrganizationByUserEmail(email)
}

class CreatePaymentTransactionController {
  +newPaymentTransaction(taskId, briefDescription, timeDuration, costPerHour, taskCategory, \nendDate, delay, workQualityDescription, \nfrlId, name, expertiseLevel, email, NIF, IBAN, address, country)
  +paymentTransactionRegister()
}

class CreatePaymentTransactionUI {
}

class PaymentTransaction{
  -Date endDate
  -Double delay
  -String workQualityDescription
  +generatePayAmount(task, free)
  +PaymentTransaction(task, free, endDate, delay, workQualityDescription)
}

class PaymentTransactionList{
  +newPaymentTransaction(task, free, endDate, delay, workQualityDescription)
  +validatePaymentTransaction(payT)
  +paymentTransactionRegister(payT)
  +addPaymentTransaction(payT)
}

CreatePaymentTransactionUI ..> CreatePaymentTransactionController
CreatePaymentTransactionController ..> Platform
CreatePaymentTransactionController ..> Task
CreatePaymentTransactionController ..> Organization
CreatePaymentTransactionController ..> POTApplication
CreatePaymentTransactionController ..> UserSession
CreatePaymentTransactionController ..> TasksList
CreatePaymentTransactionController ..> FreelancersRecord
CreatePaymentTransactionController ..> OrganizationsRecord
CreatePaymentTransactionController ..> PaymentTransactionList
Platform "1" --> "1" FreelancersRecord : has
Platform "1" --> "1" OrganizationsRecord : has

FreelancersRecord "1" --> "*" Freelancer : has
OrganizationsRecord "1" --> "*" Organization : has
Organization "1" --> "1" TasksList : has
Organization "1" --> "1" PaymentTransactionList : has
PaymentTransactionList "1" --> "*" PaymentTransaction : has
TasksList "1" --> "*" Task : has
Task "1..*" --> "1" Freelancer : is assigned to

PaymentTransaction "1" --> "1" Freelancer : relates to
PaymentTransaction "1" --> "1" Task : relates to

@enduml